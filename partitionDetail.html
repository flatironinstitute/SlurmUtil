<!DOCTYPE html>
<html>
<head>
<link href="/static/css/style.css" rel="stylesheet">

<script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="static/scripts/jquery.min.js"></script>
<script type="text/javascript" src="static/scripts/myTable.js"></script>
<script type="text/javascript" src="static/scripts/myList.js"></script>
<script type="text/javascript">

$(document).ready(function(){{
    var part       = {p_detail};
    var nodes      = {p_nodes};
    var node_title_dict = {{'name':'Node', 'state':'State', 'tres_fmt_str':'TRES', 'features':'Features', 'alloc_cpus':'Alloc CPU','alloc_mem':'Alloc Mem', 'cpu_load':'CPU Load', 'gres_used':'Used Gres', 'running_jobs':'Run Job'}}       
    var part_list_title = {{'allow_accounts':'Allow Accounts','qos_char':'QoS','nodes':'Nodes','tres_fmt_str':'TRES','flag_shared':'Sharable', 'default_time_str':'Default Job Time', 'avail_nodes_cnt':'Avail Nodes','avail_cpus_cnt':'Avail CPUs','running_jobs':'Running Jobs', 'pending_jobs':'Pending Jobs'}}

    $("#part_name").text(part.name)
    createList  (part,   part_list_title, '#details');
    //createList  (part,   ['allow_accounts','qos_char','nodes','tres_fmt_str','flag_shared', 'default_time_str', 'avail_nodes_cnt','avail_cpus_cnt','running_jobs', 'pending_jobs'], '#details');
    createTable (nodes,  node_title_dict,  'table_nodes', 'nodes', undefined, {{'name':'Node','running_jobs':'JobArray'}})
}})
</script>
</head>
<body>
  <h3>Partition <font id="part_name"></font>:</h3> <hr>
  <div id="details"> </div>
  <h3>Partition Nodes:</h3> <hr>
  <div id="nodes"> </div>
</body>
</html>

