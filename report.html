<html>
<!DOCTYPE html>

<head>
<link rel="stylesheet" href="/static/css/style.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<meta charset="utf-8">
<style>
  path {
  stroke: #fff;
  fill-rule: evenodd;
  }

  text {
  font-family: Arial, sans-serif;
  font-size: 8px;
  }

  div.tooltip {
    position: absolute;
    text-align: center;
    width: 200px;
    height: 100px;
    padding: 2px;
    font: 12px sans-serif;
    background: lightsteelblue;
    border: 0px;
    border-radius: 8px;
    pointer-events: none;
}
</style>

<script type="text/javascript" src="static/scripts/jquery-3.3.1.min.js"></script>
<script>
$(function(){
   $("#tabmenu").load("/getHeader?page=report")
});
</script>
</head>

<body>
<div class="tab" id="tabmenu"></div>


<div id="hourly" style="border:1px solid gray; margin: 10px; padding: 10px;">
<legend style="color:#3A509C"> Cluster and User Usage Report </legend>
  <form action="./clusterReport_hourly"> 
        Slurm Cluster Hourly Usage from <input name="start" id="start" value="2017-09-18" type="date"> to <input name="stop" id="stop" value="" type="date"> &nbsp
        <button> Report </button></form>
  <form action="./accountReport_hourly"> 
        Slurm Account Allocation Hourly Usage from <input name="start" id="start" value="2017-09-25" type="date"> to <input name="stop" id="stop" value="" type="date">
        <button> Report </button></form>
  <form action="./userReport_hourly"> 
        Top <input name="top" id="top" size=2 value=5> 
        Slurm Users Allocation Usage from   <input name="start" id="start" value="2017-10-05" type="date"> to <input name="stop" id="stop" value="" type="date">
        <button> Report </button></form>
</div>

<div id="daily" style="border:1px solid gray; margin: 10px; padding: 10px;">
<legend style="color:#3A509C"> File Usage Daily Report </legend>
<form action="./fileReport_daily"> 
        Top <input name="top" id="top" size=2 value=5> Users 
        File Count and Bytes Daily Usage on 
        <select name="fs">
          <option value="home">      Home</option>
          <option value="ceph_users">Ceph Users</option>
          <option value="ceph_full"> Ceph Full</option>
          <option value="xfs1">      Xfs1</option>
        </select>
        from <input name="start" id="start" value="2016-10-25" type="date"> to <input name="stop" id="stop" value="" type="date">
        <button> Report </button></form>
</div>

<div id="secondly" style="border:1px solid gray; margin: 10px; padding: 10px;">
<legend style="color:#3A509C"> Pending Queue Report </legend>
  <form action="./queueLengthReport"> 
        Slurm Cluster Queue Length from <input name="start" id="start" value="2017-09-18" type="date"> to <input name="stop" id="stop" value="" type="date"> with job wait time bigger than <input name="queueTime" id="queueTime" size=2 value=1> seconds &nbsp
        <button> Report </button></form>
</div>

<div id="CDF" style="border:1px solid gray; margin: 10px; padding: 10px;">
<legend style="color:#3A509C"> CDF Report </legend>
    <form action="./cdfReport"> 
        CDF (up to <input name="upper" id="upper" size=3 value=90>th percentile)
        of request/allocated CPUs/Nodes of ALLOCATED jobs 
        from <input name="start" id="start" value="2017-10-05" type="date"> to <input name="stop" id="stop" value="" type="date">
        <button> Report </button></form>
    <form action="./cdfTimeReport"> 
        CDF (up to <input name="upper" id="upper" size=3 value=90>th percentile)
        of the execution time of RUNNING jobs with execution time longer than 5 seconds
        from <input name="start" id="start" value="2017-10-05" type="date"> to <input name="stop" id="stop" value="" type="date">
        <button> Report </button></form>
</div>
<div id="history" style="border:1px solid gray; margin: 10px; padding: 10px;">
<legend style="color:#3A509C"> History</legend>
    <form action="./jobGraph"> 
        Job <input name="jobid" id="jobid" size=10> <button> History</button></form>
    <form action="./nodeGraph_1"> 
        Node <input name="node" id="node" size=10>'s resource usage from <input name="start" id="start" type="date"> to <input name="stop" id="stop" value="" type="date"> <button> History</button></form>
</div>
<script>
  today = new Date() 
  month = "0" + (today.getMonth()+1)
  console.log(month)
  day   = "0" + today.getDate()
  startDate = today.getFullYear()-1 + "-" + month.substr(month.length-2) + "-" + day.substr(day.length-2);
  console.log(today)
  $("input[name='start'").val(startDate)
</script>
</body>
</html>
